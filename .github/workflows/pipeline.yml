on: 
  pull_request: 
    types: [opened, synchronize]   

jobs: 

  build: 

    runs-on: ubuntu-latest 
    steps: 
    - name: Checkout code 
      uses: actions/checkout@v2 

    - name: Install dependencies 
      run: pip install -r requirements.txt 

    - name: Get PR diff 
      run: | 

        DIFF=$(git diff --name-only ${{ github.event.before }} ${{ github.sha }}) 
        echo "::set-output name=diff::$DIFF"
